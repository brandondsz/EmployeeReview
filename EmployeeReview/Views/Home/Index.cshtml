@using EmployeeReview.Models
@using EmployeeReview.ViewModels
@model EmployeeReview.ViewModels.Home


@{
    ViewBag.Title = "Index";
    <h2>Welcome @ViewBag.User!</h2>
}
<link href="~/Content/jquery-ui.css" rel="stylesheet" />
<link href="~/Content/stylesheet/stylesheet.css" rel="stylesheet" />
<script src="~/Scripts/jquery-ui.js"></script>


 <script>
$(function() {
$( "#accordion" ).accordion();
});
</script>


<div id="main">
@Html.Partial("_LogOnPartial")



    <form method="post" >
    <div id="menucontainer"> 
                <ul id="menu">
                    @{
                        int step = ViewBag.step;
                        Session["step"] = step;
                        switch (step)
                        {
                            case 1:<li>@Html.ActionLink("Project-Related", "Index", new { step = 1 }, new { id = "current" })</li>
                                 <li>@Html.ActionLink("General", "Index", new { step = 2 })</li>
                                 <li>@Html.ActionLink("Technical", "Index", new { step = 3 })</li> break;
                            case 2:<li>@Html.ActionLink("Project-Related", "Index", new { step = 1 })</li>
                                 <li>@Html.ActionLink("General", "Index", new { step = 2 }, new { id = "current" })</li>
                                 <li>@Html.ActionLink("Technical", "Index", new { step = 3 })</li> break;
                            case 3:<li>@Html.ActionLink("Project-Related", "Index", new { step = 1 })</li>
                                 <li>@Html.ActionLink("General", "Index", new { step = 2 })</li>
                                 <li>@Html.ActionLink("Technical", "Index", new { step = 3 }, new { id = "current" })</li> break;
                        }
                    }
                    
                </ul>
            </div>
   <div id="mid">

    
       
       <div id="accordion">
          
          @{
              
              int temp = 0, innerLoop = 0;
              for (int i = 0; i < Model.Responsibilities.Count; i++)
              {
                  if (temp != Model.Responsibilities[i].CategoryID && ViewBag.step == Model.Responsibilities[i].Category.TypeID)
                  {
                      temp = Model.Responsibilities[i].CategoryID;        
              <h3>@Html.DisplayFor(mod => Model.Responsibilities[i].Category.CategoryValue)</h3>
              <div>


                  <table>
                      <tr>
                          <th style="width: 45%; padding-top: .5em; padding-bottom: .5em">Responsibilities</th>
                          <th style="width: 25%; padding-top: .5em; padding-bottom: .5em;">Comments</th>
                          <th style="width: 10%; padding-top: .5em; padding-bottom: .5em;">Rate Yourself</th>
                      </tr>
                      
                      @for (int j = 0; j < Model.Responsibilities.Count; j++)
                      {

                          if (Model.Responsibilities[j].CategoryID == Model.Responsibilities[i].CategoryID)
                          {
                            
                              
                          @Html.HiddenFor(mod => Model.Responsibilities[j].ResponsibilityID)
                          <tr>
                              <td style="width: 45%; padding-top: .5em; padding-bottom: .5em">

                                  @Html.DisplayFor(mod => Model.Responsibilities[j].ResponsibilityValue)
                              </td>
                              @{
                              var respID = @Html.ValueFor(mod => Model.Responsibilities[j].ResponsibilityID);
                              }


                              
                              
                              @{
                                
                                  if (j < Model.UserChoices.Count)
                                  {<td style="width: 25%; padding-top: .5em; padding-bottom: .5em;">
                                      @if (Model.UserChoices[j].ResponsibilityID == Model.Responsibilities[j].ResponsibilityID)
                                      {
                                      string co=Model.UserChoices[j].Comment.CommentValue;
                                      @Html.TextBoxFor(mod => Model.comment[j], new { @Value=co});
                                      }
                                      </td>
                                  }
                                   
                                  if (j < Model.UserChoices.Count && Model.UserChoices[j].ResponsibilityID == Model.Responsibilities[j].ResponsibilityID)
                                  {
                                      int r = Model.UserChoices[j].Rating.RatingValue;
                                      switch (r)
                                      {
                                          case 1:

                              <td style="width: auto; padding-top: .5em; padding-bottom: .5em;">
                                  <div class="starRating">

                                      <div>
                                          <div>
                                              <div>
                                                  <div>
                                                      @Html.RadioButtonFor(mod => Model.rating[j], 1, new { id = "rating1", @Checked = "checked" })
                                                      <label for="rating1"><span>1</span></label>
                                                  </div>
                                                  @Html.RadioButtonFor(mod => Model.rating[j], 2, new { id = "rating2" })
                                                  <label for="rating2"><span>2</span></label>
                                              </div>
                                              @Html.RadioButtonFor(mod => Model.rating[j], 3, new { id = "rating3" })
                                              <label for="rating3"><span>3</span></label>
                                          </div>
                                          @Html.RadioButtonFor(mod => Model.rating[j], 4, new { id = "rating4" })
                                          <label for="rating4"><span>4</span></label>
                                      </div>
                                      @Html.RadioButtonFor(mod => Model.rating[j], 5, new { id = "rating5" })
                                      <label for="rating5"><span>5</span></label>
                                  </div>
                              </td>
                                              break;
                                          case 2:
                                           <td style="width: auto; padding-top: .5em; padding-bottom: .5em;">
                                  <div class="starRating">

                                      <div>
                                          <div>
                                              <div>
                                                  <div>
                                                      @Html.RadioButtonFor(mod => Model.rating[j], 1, new { id = "rating1" })
                                                      <label for="rating1"><span>1</span></label>
                                                  </div>
                                                  @Html.RadioButtonFor(mod => Model.rating[j], 2, new { id = "rating2", @Checked = "checked" })
                                                  <label for="rating2"><span>2</span></label>
                                              </div>
                                              @Html.RadioButtonFor(mod => Model.rating[j], 3, new { id = "rating3" })
                                              <label for="rating3"><span>3</span></label>
                                          </div>
                                          @Html.RadioButtonFor(mod => Model.rating[j], 4, new { id = "rating4" })
                                          <label for="rating4"><span>4</span></label>
                                      </div>
                                      @Html.RadioButtonFor(mod => Model.rating[j], 5, new { id = "rating5" })
                                      <label for="rating5"><span>5</span></label>
                                  </div>
                              </td>
                                              break;

                                          case 3:
                                               <td style="width: auto; padding-top: .5em; padding-bottom: .5em;">
                                  <div class="starRating">

                                      <div>
                                          <div>
                                              <div>
                                                  <div>
                                                      @Html.RadioButtonFor(mod => Model.rating[j], 1, new { id = "rating1" })
                                                      <label for="rating1"><span>1</span></label>
                                                  </div>
                                                  @Html.RadioButtonFor(mod => Model.rating[j], 2, new { id = "rating2" })
                                                  <label for="rating2"><span>2</span></label>
                                              </div>
                                              @Html.RadioButtonFor(mod => Model.rating[j], 3, new { id = "rating3" , @Checked = "checked"})
                                              <label for="rating3"><span>3</span></label>
                                          </div>
                                          @Html.RadioButtonFor(mod => Model.rating[j], 4, new { id = "rating4" })
                                          <label for="rating4"><span>4</span></label>
                                      </div>
                                      @Html.RadioButtonFor(mod => Model.rating[j], 5, new { id = "rating5" })
                                      <label for="rating5"><span>5</span></label>
                                  </div>
                              </td>
                                              break;

                                          case 4: <td style="width: auto; padding-top: .5em; padding-bottom: .5em;">
                                  <div class="starRating">

                                      <div>
                                          <div>
                                              <div>
                                                  <div>
                                                      @Html.RadioButtonFor(mod => Model.rating[j], 1, new { id = "rating1" })
                                                      <label for="rating1"><span>1</span></label>
                                                  </div>
                                                  @Html.RadioButtonFor(mod => Model.rating[j], 2, new { id = "rating2" })
                                                  <label for="rating2"><span>2</span></label>
                                              </div>
                                              @Html.RadioButtonFor(mod => Model.rating[j], 3, new { id = "rating3" })
                                              <label for="rating3"><span>3</span></label>
                                          </div>
                                          @Html.RadioButtonFor(mod => Model.rating[j], 4, new { id = "rating4", @Checked = "checked" })
                                          <label for="rating4"><span>4</span></label>
                                      </div>
                                      @Html.RadioButtonFor(mod => Model.rating[j], 5, new { id = "rating5" })
                                      <label for="rating5"><span>5</span></label>
                                  </div>
                              </td>
                                              break;

                                          case 5: <td style="width: auto; padding-top: .5em; padding-bottom: .5em;">
                                  <div class="starRating">

                                      <div>
                                          <div>
                                              <div>
                                                  <div>
                                                      @Html.RadioButtonFor(mod => Model.rating[j], 1, new { id = "rating1" })
                                                      <label for="rating1"><span>1</span></label>
                                                  </div>
                                                  @Html.RadioButtonFor(mod => Model.rating[j], 2, new { id = "rating2" })
                                                  <label for="rating2"><span>2</span></label>
                                              </div>
                                              @Html.RadioButtonFor(mod => Model.rating[j], 3, new { id = "rating3" })
                                              <label for="rating3"><span>3</span></label>
                                          </div>
                                          @Html.RadioButtonFor(mod => Model.rating[j], 4, new { id = "rating4" })
                                          <label for="rating4"><span>4</span></label>
                                      </div>
                                      @Html.RadioButtonFor(mod => Model.rating[j], 5, new { id = "rating5" , @Checked = "checked"})
                                      <label for="rating5"><span>5</span></label>
                                  </div>
                              </td>
                                              break;
                                      }
                          
                                  
                                  }
                                  else
                                  {
                                     <td style="width: 25%; padding-top: .5em; padding-bottom: .5em;">
                                       @Html.TextAreaFor(mod => Model.comment[innerLoop], new { @rows = 1, @cols = 50 })
                                  
                                  @{innerLoop++;}
                              </td>

                              <td style="width: auto; padding-top: .5em; padding-bottom: .5em;">
                                  <div class="starRating">

                                      <div>
                                          <div>
                                              <div>
                                                  <div>
                                                      @Html.RadioButtonFor(mod => Model.rating[j], 1, new { id = "rating1" })
                                                      <label for="rating1"><span>1</span></label>
                                                  </div>
                                                  @Html.RadioButtonFor(mod => Model.rating[j], 2, new { id = "rating2" })
                                                  <label for="rating2"><span>2</span></label>
                                              </div>
                                              @Html.RadioButtonFor(mod => Model.rating[j], 3, new { id = "rating3" })
                                              <label for="rating3"><span>3</span></label>
                                          </div>
                                          @Html.RadioButtonFor(mod => Model.rating[j], 4, new { id = "rating4" })
                                          <label for="rating4"><span>4</span></label>
                                      </div>
                                      @Html.RadioButtonFor(mod => Model.rating[j], 5, new { id = "rating5" })
                                      <label for="rating5"><span>5</span></label>
                                  </div>
                              </td>
                              }
                            }
                          </tr>

                                  
                                
                                
                          }
                      }


                  </table>


              </div>
             
    
                  }

              }
    }
    
    </div>

   </div>
     
    <div id="next">
    @Html.ActionLink("Next", "Index", new { step = ViewBag.step + 1 })
    </div>

        <button>Save</button>
</form> 
 
    </div>
            
  

